
language: python

python:
# Python 2.* is no longer supported because it does not have keyword only parameters, used in a few functions and methods
  - "3.5"
  - "3.6"
# Enable 3.7 without globally enabling sudo and dist: xenial for other build jobs
matrix:
  include:
    - python: 3.7
      dist: xenial
      sudo: true

# command to install dependencies
install: "pip install ."

# command to run tests
script:
  - pytest

deploy:
  - provider: pypi
    server: https://test.pypi.org/legacy/
    user: fricciardi
    password:
      secure: HY2dNwnf8hXMQUaWGmiAjAhr9D97cYz2ZpJBEYx1RTFy6kqSV+vIzk/IPbYX5Yfum1jJwNBUzCw1GUhHMdbwpMKP/uQNLnyVoXtEz56WPkVSbLKBhlOFJk/UpBoAH+qvniSOkh0FfzYJLEqJMKE6bD6YJdWS7lH+AYk4OSJ1Te2kgk/f08zhfNMtm9QtAG2/kIoR4sAZ52Kz6zGkWmDRtKunQnPuLO021xARszL0AJJWZVOt72+O3fwZnky5Gm4mE9Adtndm/e1ACHksfSR/P1lqU8pfUeMEdBivP5E4l5xExpW71HrfaI5wz6UlbOiSQnGIKVLQs5jpxAcWaL3qNNFxW8wvAZtqBAtVezuXr0npS4a7EVVk4uvuHpdj/chM6c4uCNlRwHiXdT2qwFyfJACqSX2cH/19+5VLnZMO4li5vhiCG25L4xitbEeD5kYBIQY1SD3BCuHpuip7udlswPb1dWbCbOzkvBVoMKlEx0Z4lD6KV7QeP5L1Lr1SOQJ4FYT+n26l0Se9pn9+KCE7B9uBRXo9RLWToChTJKKpEmOItgkFzqVMtUF9bZQhOZs1WwfOKFGpTjakGwBUoLVML2V19ETn8Lf0PRw/GxZDX7bTlz56tp2vVlxATPvU5baLYCl+/ion2ycfSGNwppMxKuCDG/74+B+T4V7Qv6W5g1g=
    distributions: "sdist bdist_wheel"
#    on:
#      condition: $TRAVIS_TAG =~ ^testpypi[0-9]+$
